= Deployment View
include::partial$config.adoc[]

[plantuml, deployment-view]
----
@startuml deployment-view

actor "Player" <<User>> as player
actor "Game Master" <<User>> as gm
actor "Con Orga" <<User>> as orga
actor "System Admin" <<Admin>> as admin

component "k8s Cluster" <<Cluster>> as k8s {
  component "rollenspiel-cons" <<Namespace>> as ns {

    component "rollenspiel-cons" <<Helm Deployment>> {
        [rollenspiel-cons] <<Ingress>> as ingress

        [rollenspiel-cons] <<Service>> as service

        [rollenspiel-cons] <<Pod>> as scs

        database "rollenspiel-cons" <<Pod>> as data
        component "rollenspiel-cons" <<PVC>> as pvc

        ingress -right-> service : HTML, REST\n(Port 8080)
        service --> scs : HTML, REST\n(Port 8080)
        scs -right-> data : Postgresql\n(Port 5432)

        data .right. pvc : uses
    }
  }
}

player --> ingress : HTTPS (HTML, REST)\n(Port 443)
gm --> ingress : HTTPS (HTML, REST)\n(Port 443)
orga --> ingress : HTTPS (HTML, REST)\n(Port 443)
admin --> ingress : HTTPS (HTML, REST)\n(Port 443)

[Google Calendar] as gcal
[Discord] as discord
[OpenStreetMap] as osm
[3words] as what3words

scs --> gcal : HTTPS (REST)\n(Port 443)
scs <--> discord : HTTPS (REST)\n(Port 443)
scs --> osm : HTTPS (REST)\n(Port 443)
scs --> what3words : HTTPS (REST)\n(Port 443)

@enduml
----


== Quality and/or Performance Features

* {us03}
* {re01}
* {co01}
* {co02}
* {co03}
* {co06}

== Mapping Building Blocks to Infrastructure

The pod `rollenspiel-cons` contains the SCS application.
It consists of the building blocks level 1.

include::partial$building-blocks-level-2.adoc[]
